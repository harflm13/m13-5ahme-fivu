{"version":3,"sources":["main.ts"],"names":[],"mappings":";;AACA,iCAAmC;AACnC,wCAA0C;AAE1C,+BAAiC;AACjC,4CAA8C;AAG9C,4BAA4B;AAC5B,IAAM,GAAG,GAAG,OAAO,EAAE,CAAC;AACtB,IAAM,SAAS,GAAG,GAAG,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AAChD,SAAS,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;AAE/B,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,CAAC;AACjC,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC,CAAC;AAExB,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI;IACxB,2BAA2B;IAC3B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACzB,IAAI,EAAE,CAAC;AACX,CAAC,CAAC,CAAC;AACH,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;AACjC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;AAGlC,mBAAmB,GAAoB,EAAE,GAAqB,EAAE,IAA0B;IACtF,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QACX,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IACD,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,GAAG,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC;QAC7D,GAAG,CAAC,SAAS,CACT,YAAY,EACZ,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE;YACpC,QAAQ,EAAE,IAAI;YACd,MAAM,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;SAC3B,CAAC,CACL,CAAC;QACF,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;IAC5C,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;AACL,CAAC;AAGD,IAAM,IAAI,GAAG,IAAI,CAAC;AAClB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACjB,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,GAAG,+BAA+B,GAAG,IAAI,CAAC,CAAC","file":"main.js","sourcesContent":["import { sprintf } from 'sprintf-js';\r\nimport * as express from 'express';\r\nimport * as bodyparser from 'body-parser';\r\nimport * as http from 'http';\r\nimport * as cookie from 'cookie';\r\nimport * as cookieparser from 'cookie-parser';\r\n\r\n\r\n// Express Web app erstellen\r\nconst app = express();\r\nconst pugEngine = app.set('view engine', 'pug');\r\npugEngine.locals.pretty = true;\r\n\r\napp.use(bodyparser.urlencoded());\r\napp.use(cookieparser());\r\n\r\napp.get('/', (req, res, next) => {\r\n    // res.render('index.pug');\r\n    console.log(req.cookies);\r\n    next();\r\n});\r\napp.post('/saveuser', setCookie);\r\napp.use(express.static('public'));\r\n\r\n\r\nfunction setCookie(req: express.Request, res: express.Response, next: express.NextFunction) {\r\n    if (req.body) {\r\n        console.log(req.body);\r\n    }\r\n    if (req.body.name === 'maxi' && req.body.password === 'geheim') {\r\n        res.setHeader(\r\n            'Set-Cookie',\r\n            cookie.serialize('name', req.body.name, {\r\n                httpOnly: true,\r\n                maxAge: 60 * 60 * 24 * 7\r\n            })\r\n        );\r\n        res.send('OK (' + req.body.email + ')');\r\n    } else {\r\n        res.status(401).send('ERROR');\r\n    }\r\n}\r\n\r\n\r\nconst port = 8080;\r\napp.listen(port);\r\nconsole.log('app auf ' + port + ' gestartet: http://localhost:' + port);"],"sourceRoot":"C:\\Users\\User\\Documents\\Schule\\1GitYo\\m13-5ahme-fivu\\projects\\ue06"}